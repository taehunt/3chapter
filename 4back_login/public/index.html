<h2>회원가입</h2>
<form id="signupForm">
  <input type="text" id="signupUsername" placeholder="아이디" required />
  <input type="password" id="signupPassword" placeholder="비밀번호" required />
  <button type="submit">회원가입</button>
</form>

<h2>로그인</h2>
<form id="loginForm">
  <input type="text" id="loginUsername" placeholder="아이디" required />
  <input type="password" id="loginPassword" placeholder="비밀번호" required />
  <button type="submit">로그인</button>
</form>

<p id="loginMessage"></p>

<script>
  document.getElementById("signupForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const username = document.getElementById("signupUsername").value;
  const password = document.getElementById("signupPassword").value;

  const res = await fetch("/api/signup", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ username, password }),
  });

  const data = await res.json();
    alert(data.message);
  });

  document.getElementById("loginForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const username = document.getElementById("loginUsername").value;
    const password = document.getElementById("loginPassword").value;

    const res = await fetch("/api/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ username, password }),
    });

    const data = await res.json();
    document.getElementById("loginMessage").textContent = data.message;
  });
</script>